import{r as n,j as e,w as q,C as x,b as h,a6 as u,N as T,d as j,I as P,B as p,c as v,s as y,Z as w,T as H,l as J}from"./index-CFf024ZK.js";import{T as U,a as Z,b as N,c as b}from"./tabs-Bv7z5eAA.js";import{P as $}from"./progress-CJIi5AOi.js";import{a as g}from"./aiService-pihjpaVZ.js";import{T as f}from"./triangle-alert-BIo-zkYh.js";function W(){const[i,S]=n.useState(null),[d,M]=n.useState(null),[m,k]=n.useState(null),[l,D]=n.useState(null),[o,R]=n.useState(null),[t,r]=n.useState(!1),[c,A]=n.useState({price:1500,timeline:14,provider:{name:"Jean Dupont",rating:4.8,completedProjects:25,specialties:["React","Node.js","TypeScript"]},mission:{title:"Développement d'une application e-commerce",category:"développement-web",complexity:7,estimatedHours:40,isUrgent:!1}}),[C,z]=n.useState("Je cherche un développeur pour créer un site web. Il faut que ce soit bien fait et pas cher. Contactez-moi pour plus d'infos."),B=async()=>{r(!0);try{const s=await g.analyzeBid(c);S(s)}catch(s){console.error("Erreur analyse offre:",s)}r(!1)},I=async()=>{r(!0);try{const s=await g.recommendPrice(c.mission);M(s)}catch(s){console.error("Erreur recommandation prix:",s)}r(!1)},O=async()=>{r(!0);try{const s=await g.matchMissionToProvider(c.mission,c.provider);k(s)}catch(s){console.error("Erreur matching:",s)}r(!1)},E=async()=>{r(!0);try{const s=await g.detectAbusePattern(c);D(s)}catch(s){console.error("Erreur détection abus:",s)}r(!1)},L=async()=>{r(!0);try{const s=await g.optimizeMissionDescription(C);R(s)}catch(s){console.error("Erreur optimisation:",s)}r(!1)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"text-4xl font-bold text-gray-900 mb-4 flex items-center justify-center",children:[e.jsx(q,{className:"w-10 h-10 mr-3 text-blue-600"}),"Test du Moteur IA"]}),e.jsx("p",{className:"text-xl text-gray-600",children:"Interface de test pour toutes les fonctionnalités d'intelligence artificielle"})]}),e.jsxs(U,{defaultValue:"bid-analysis",className:"space-y-6",children:[e.jsxs(Z,{className:"grid w-full grid-cols-5",children:[e.jsx(N,{value:"bid-analysis",children:"Analyse Offres"}),e.jsx(N,{value:"price-recommendation",children:"Prix IA"}),e.jsx(N,{value:"matching",children:"Matching"}),e.jsx(N,{value:"abuse-detection",children:"Anti-Abus"}),e.jsx(N,{value:"optimization",children:"Optimisation"})]}),e.jsx(b,{value:"bid-analysis",children:e.jsxs(x,{children:[e.jsx(h,{children:e.jsxs(u,{className:"flex items-center",children:[e.jsx(T,{className:"w-6 h-6 mr-2 text-green-600"}),"Analyse Intelligente des Offres"]})}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Prix proposé (€)"}),e.jsx(P,{type:"number",value:c.price,onChange:s=>A({...c,price:Number(s.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Délai (jours)"}),e.jsx(P,{type:"number",value:c.timeline,onChange:s=>A({...c,timeline:Number(s.target.value)})})]})]}),e.jsx(p,{onClick:B,disabled:t,className:"w-full",children:t?"Analyse en cours...":"Analyser l'offre"}),i&&e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-lg font-semibold",children:"Score global"}),e.jsxs(v,{variant:i.score>75?"default":i.score>50?"secondary":"destructive",className:`${i.score>75?"bg-green-100 text-green-800 border-green-300":i.score>50?"bg-yellow-100 text-yellow-800 border-yellow-300":"bg-red-100 text-red-800 border-red-300"}`,children:[i.score,"/100"]})]}),e.jsx($,{value:i.score,className:"w-full"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Recommandations :"}),e.jsx("ul",{className:"space-y-1",children:i.recommendations.map((s,a)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(y,{className:"w-4 h-4 mr-2 text-green-500 mt-0.5"}),e.jsx("span",{className:"text-sm",children:s})]},a))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Insights :"}),e.jsx("ul",{className:"space-y-1",children:i.insights.map((s,a)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(w,{className:"w-4 h-4 mr-2 text-blue-500 mt-0.5"}),e.jsx("span",{className:"text-sm",children:s})]},a))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Confiance : "}),e.jsxs(v,{variant:"outline",className:"ml-2",children:[i.confidence,"%"]})]})]})]})]})}),e.jsx(b,{value:"price-recommendation",children:e.jsxs(x,{children:[e.jsx(h,{children:e.jsxs(u,{className:"flex items-center",children:[e.jsx(H,{className:"w-6 h-6 mr-2 text-blue-600"}),"Recommandation de Prix IA"]})}),e.jsxs(j,{className:"space-y-4",children:[e.jsx(p,{onClick:I,disabled:t,className:"w-full",children:t?"Calcul en cours...":"Calculer le prix optimal"}),d&&e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[d.suggestedPrice,"€"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Prix suggéré"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"font-semibold text-green-600",children:[d.priceRange.min,"€"]}),e.jsx("div",{className:"text-xs text-gray-600",children:"Minimum"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"font-semibold text-red-600",children:[d.priceRange.max,"€"]}),e.jsx("div",{className:"text-xs text-gray-600",children:"Maximum"})]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Analyse :"}),e.jsx("p",{className:"text-sm",children:d.reasoning})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Marché :"}),e.jsx("p",{className:"text-sm",children:d.marketAnalysis})]})]})]})]})}),e.jsx(b,{value:"matching",children:e.jsxs(x,{children:[e.jsx(h,{children:e.jsxs(u,{className:"flex items-center",children:[e.jsx(T,{className:"w-6 h-6 mr-2 text-purple-600"}),"Matching Mission/Prestataire"]})}),e.jsxs(j,{className:"space-y-4",children:[e.jsx(p,{onClick:O,disabled:t,className:"w-full",children:t?"Analyse en cours...":"Analyser la compatibilité"}),m&&e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[m.score,"/100"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Score global"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[m.compatibility,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Compatibilité"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-600 mb-2",children:"Points forts :"}),e.jsx("ul",{className:"space-y-1",children:m.strengths.map((s,a)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(y,{className:"w-4 h-4 mr-2 text-green-500 mt-0.5"}),e.jsx("span",{className:"text-sm",children:s})]},a))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-amber-600 mb-2",children:"Points d'attention :"}),e.jsx("ul",{className:"space-y-1",children:m.concerns.map((s,a)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(f,{className:"w-4 h-4 mr-2 text-amber-500 mt-0.5"}),e.jsx("span",{className:"text-sm",children:s})]},a))})]})]})]})]})]})}),e.jsx(b,{value:"abuse-detection",children:e.jsxs(x,{children:[e.jsx(h,{children:e.jsxs(u,{className:"flex items-center",children:[e.jsx(f,{className:"w-6 h-6 mr-2 text-red-600"}),"Détection d'Abus et Anti-Dumping"]})}),e.jsxs(j,{className:"space-y-4",children:[e.jsx(p,{onClick:E,disabled:t,className:"w-full",children:t?"Analyse en cours...":"Détecter les abus"}),l&&e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsx("div",{className:`p-4 rounded-lg ${l.isAbusive?"bg-red-50 border border-red-200":"bg-green-50 border border-green-200"}`,children:e.jsxs("div",{className:"flex items-center",children:[l.isAbusive?e.jsx(f,{className:"w-5 h-5 mr-2 text-red-600"}):e.jsx(y,{className:"w-5 h-5 mr-2 text-green-600"}),e.jsx("span",{className:"font-semibold",children:l.isAbusive?"Comportement suspect détecté":"Aucun abus détecté"})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Niveau de risque :"}),e.jsx(v,{variant:l.riskLevel==="high"?"destructive":l.riskLevel==="medium"?"secondary":"default",children:l.riskLevel==="high"?"Élevé":l.riskLevel==="medium"?"Moyen":"Faible"})]}),l.reasons.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Raisons :"}),e.jsx("ul",{className:"space-y-1",children:l.reasons.map((s,a)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(f,{className:"w-4 h-4 mr-2 text-red-500 mt-0.5"}),e.jsx("span",{className:"text-sm",children:s})]},a))})]})]})]})]})}),e.jsx(b,{value:"optimization",children:e.jsxs(x,{children:[e.jsx(h,{children:e.jsxs(u,{className:"flex items-center",children:[e.jsx(w,{className:"w-6 h-6 mr-2 text-yellow-600"}),"Optimisation d'Annonces"]})}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description de mission à optimiser :"}),e.jsx(J,{value:C,onChange:s=>z(s.target.value),rows:4,placeholder:"Décrivez votre mission..."})]}),e.jsx(p,{onClick:L,disabled:t,className:"w-full",children:t?"Optimisation en cours...":"Optimiser la description"}),o&&e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-semibold",children:"Score SEO :"}),e.jsxs(v,{variant:o.seoScore>75?"default":"secondary",children:[o.seoScore,"/100"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Texte optimisé :"}),e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-sm",children:o.optimizedText})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Améliorations suggérées :"}),e.jsx("ul",{className:"space-y-1",children:o.improvements.map((s,a)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(w,{className:"w-4 h-4 mr-2 text-yellow-500 mt-0.5"}),e.jsx("span",{className:"text-sm",children:s})]},a))})]})]})]})]})})]})]})})}export{W as default};
