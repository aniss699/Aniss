Tu es mon pair-programmer. Je construis une plateforme dâ€™appels dâ€™offres inversÃ©s pour services (particuliers/pros/entreprises). Lâ€™algorithme IA doit devenir trÃ¨s puissant et diffÃ©renciant : meilleure comprÃ©hension des besoins, gÃ©nÃ©ration dâ€™annonces optimisÃ©es, matching intelligent, estimation de prix fiable, et apprentissage continu.

Ta mission : appliquer toutes les idÃ©es des messages ci-dessous (base validÃ©e + extensions ultra-puissance), en les intÃ©grant dans le code de mon projet.
ğŸ‘‰ Chaque module doit Ãªtre activable par feature flag, bien documentÃ©, testÃ©, et expliquÃ© dans le code/README.

â¸»

ğŸ§± 1) Architecture (services)

CrÃ©e ces services modulaires :
	â€¢	Ingest (entrÃ©e) â†’ gÃ¨re texte, audio, images, PDF. Sert Ã  comprendre rapidement un brief.
	â€¢	Normalize â†’ nettoie, mappe Ã  une taxonomie claire, calcule un score de complÃ©tude. Sert Ã  rendre les annonces comparables et exploitables.
	â€¢	Embeddings â†’ stocke vecteurs pgvector pour recherche dense. Sert au matching sÃ©mantique missions â†” prestataires.
	â€¢	Generator â†’ copilote dâ€™annonce, gÃ©nÃ©ration de variantes, templates, fiche SOW. Sert Ã  rÃ©duire lâ€™effort de lâ€™utilisateur.
	â€¢	Questioner â†’ pose max 5 questions dynamiques basÃ©es sur la valeur dâ€™information (VoI). Sert Ã  complÃ©ter les donnÃ©es manquantes.
	â€¢	Pricer â†’ calcule estimation prix (ML + rÃ¨gles), Ã©lasticitÃ© locale, prix garanti Â± SLA. Sert Ã  guider client et pros avec transparence.
	â€¢	Ranker â†’ score multi-objectif (qualitÃ©, proximitÃ©, charge, badgesâ€¦). Sert Ã  classer pros de maniÃ¨re juste et efficace.
	â€¢	Router â†’ distribue missions aux pros Ã©quitablement, Ã©vite saturation, gÃ¨re diversitÃ©. Sert Ã  maximiser la rÃ©activitÃ© et Ã©viter biais.
	â€¢	Vision_to_brief â†’ analyse photos/vidÃ©os pour dÃ©tecter objets, surfaces, dÃ©fauts. Sert Ã  rÃ©duire la saisie manuelle et fiabiliser.
	â€¢	Concierge â†’ contacte 3â€“5 pros pertinents automatiquement (opt-in). Sert Ã  garantir des offres rapides.
	â€¢	Badges â†’ vÃ©rifie documents (Kbis, RGE, assurances). Sert Ã  afficher fiabilitÃ©.
	â€¢	Metrics â†’ log events, A/B tests, drift monitor. Sert Ã  piloter lâ€™IA et mesurer performance.

â¸»

ğŸ—„ï¸ 2) Base de donnÃ©es (Postgres + pgvector)

Ajoute tables/migrations pour :
	â€¢	taxonomies : catÃ©gories hiÃ©rarchiques avec synonymes. Sert Ã  structurer tous les besoins.
	â€¢	missions : annonces enrichies (texte, structurÃ©, mÃ©dias, complÃ©tude, prix estimÃ©, SOW).
	â€¢	providers : pros (skills, rayon, badges, qualitÃ©, dispo).
	â€¢	embeddings : vecteurs missions/pros/taxonomie. Sert au matching dense.
	â€¢	bids : offres soumises.
	â€¢	events : tÃ©lÃ©mÃ©trie (actions utilisateur/pros). Sert Ã  la boucle dâ€™apprentissage.
	â€¢	experiments : stocke variantes A/B.
	â€¢	verifications : badges + expiration.

â¸»

ğŸ¤– 3) Ingestion & comprÃ©hension
	â€¢	Vision-to-Brief : input photos/vidÃ©os â†’ sortie objets, matÃ©riaux, dÃ©fauts, surfaces approximatives. Sert Ã  fiabiliser lâ€™annonce automatiquement.
	â€¢	Audio-brief : input audio â†’ transcription + structuration. Sert Ã  rendre la saisie plus naturelle.
	â€¢	OCR PDF : importer devis â†’ comparer anonymisÃ©. Sert Ã  aider le client Ã  benchmarker.
	â€¢	Normalize : mappe taxonomie, gÃ©o, calcule completeness_score, dÃ©tecte ambiguÃ¯tÃ©s. Sert Ã  indiquer ce quâ€™il manque pour publier.

â¸»

âœï¸ 4) GÃ©nÃ©ration (UX simplifiÃ©e)
	â€¢	Copilote dâ€™annonce : gÃ©nÃ¨re 3 variantes (clair, pro, premium) + explications. Sert Ã  gagner du temps et inspirer confiance.
	â€¢	Questions adaptatives : â‰¤5 questions, chaque question augmente fortement la prÃ©cision des prÃ©dictions. Sert Ã  Ã©viter les longs formulaires.
	â€¢	SOW pro : livrables, check-lists, clauses lÃ©gales. Sert Ã  cadrer clairement dÃ¨s le dÃ©part.
	â€¢	Templates verticales : mÃ©tiers spÃ©cifiques (plomberie, dev web, nettoyageâ€¦). Sert Ã  prÃ©-remplir champs adaptÃ©s.

â¸»

ğŸ¯ 5) Matching & Ranking
	â€¢	Recherche hybride : dense (embeddings) + sparse (BM25). Sert Ã  trouver pros pertinents mÃªme avec vocabulaire variÃ©.
	â€¢	Score multi-objectif (S) : combine spÃ©cialisation, proximitÃ©, dispo, qualitÃ©, rÃ©activitÃ©, prix, badges. Sert Ã  donner un classement Ã©quilibrÃ©.
	â€¢	Contraintes : anti-concentration (pas toujours les mÃªmes), anti-saturation (charge). Sert Ã  Ã©largir la compÃ©tition.
	â€¢	Cold-start : extension zone + compÃ©tences voisines. Sert Ã  ne pas bloquer un client.
	â€¢	ExplicabilitÃ© : retour â€œPourquoi ce pro est classÃ© haut ?â€ (features clÃ©s). Sert Ã  renforcer la confiance.

â¸»

ğŸ’° 6) Pricing & enchÃ¨res
	â€¢	Estimateur : prix Â± intervalle de confiance + dÃ©composition (matÃ©riel, MO, dÃ©placement). Sert Ã  clarifier et rassurer.
	â€¢	Ã‰lasticitÃ© locale : modÃ¨le bayÃ©sien hiÃ©rarchique (ville Ã— catÃ©gorie Ã— saison). Sert Ã  adapter au marchÃ©.
	â€¢	Prix garanti Â± SLA : si annonce bien complÃ¨te â†’ proposer un prix verrouillÃ© avec dÃ©lai. Sert Ã  donner certitude au client.
	â€¢	StratÃ©gies dynamiques : Dutch inversÃ©, flash. Sert Ã  maximiser vitesse de rÃ©ponse.
	â€¢	Bandits contextuels : optimiser en continu les stratÃ©gies. Sert Ã  amÃ©liorer conversion.

â¸»

ğŸ¤ 7) Concierge & comparateur
	â€¢	Concierge IA : envoie lâ€™annonce optimisÃ©e Ã  3â€“5 pros opt-in. Sert Ã  accÃ©lÃ©rer 1Ã¨re offre.
	â€¢	Comparateur dâ€™offres : interface claire (prix, dÃ©lai, garanties, score). Sert Ã  dÃ©cider vite.

â¸»

âœ… 8) QualitÃ© & conformitÃ©
	â€¢	Badges : vÃ©rif lÃ©gale + expiration. Sert Ã  valoriser les pros fiables.
	â€¢	DÃ©tection fraude : prix aberrants, copier-coller, multi-comptes. Sert Ã  protÃ©ger la marketplace.

â¸»

ğŸ“Š 9) ObservabilitÃ© & apprentissage
	â€¢	Events : log complet des actions. Sert Ã  rÃ©entraÃ®ner modÃ¨les.
	â€¢	KPI exposÃ©s :
	â€¢	% annonces complÃ©tÃ©es sans aide vs avec copilote
	â€¢	Temps moyen de publication
	â€¢	% missions avec â‰¥1 offre Ã  24h/72h
	â€¢	Ã‰cart prix estimÃ© vs final (MAPE)
	â€¢	Temps Ã  premiÃ¨re rÃ©ponse
	â€¢	NPS post-mission
	â€¢	Drift monitor : dÃ©tecte quand donnÃ©es changent trop. Sert Ã  Ã©viter dÃ©rive des modÃ¨les.
	â€¢	Boucle apprentissage : delta estimÃ©/final + satisfaction = labels pour amÃ©liorer pricer & ranker. Sert Ã  rendre lâ€™IA plus prÃ©cise avec le temps.

â¸»

ğŸ“Œ 10) Front-end (exigences)
	â€¢	Accueil : champ besoin + bouton â€œAnalyser/Optimiserâ€ â†’ copilote + questions.
	â€¢	Fiche mission : estimation live + score de complÃ©tude + risques.
	â€¢	Marketplace : tri par score S + filtres (badges, prix, dÃ©lai).
	â€¢	Comparateur dâ€™offres intÃ©grÃ©.
	â€¢	Mode â€œintro payante ciblÃ©eâ€.
	â€¢	FR par dÃ©faut, mobile-first, couleurs dynamiques.

â¸»

ğŸ§ª 11) Tests & docs
	â€¢	Tests unitaires + intÃ©gration pour chaque service.
	â€¢	ScÃ©nario e2e minimal : publier mission â†’ questions â†’ estimation â†’ matching â†’ offre.
	â€¢	README (archi, lancement, flags), API.md (endpoints), MODEL_CARD.md (donnÃ©es/biais), OBSERVABILITY.md (KPI + alertes).

â¸»

ğŸ¯ Livrable final attendu : un PR complet avec code + migrations + docs + tests, prÃªt Ã  tourner sur Replit en Preview (corrige page blanche, erreurs 404 et analyzeWithAI).

â¸»

ğŸ‘‰ ExÃ©cute toutes ces Ã©tapes. Si une partie nÃ©cessite un mock, implÃ©mente un V0 clair avec flag.

â¸»

Veux-tu que je tâ€™ajoute aussi un exemple de structure de fichiers/migrations directement dans le prompt (pour guider Replit plus concrÃ¨tement) ?